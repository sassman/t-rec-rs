# Core Animation Examples

Examples demonstrating the `core-animation` crate's builder APIs.

## Running Examples

```bash
cargo run -p core-animation --example <name>
```

## Generating Recordings

Recordings (GIF and MP4) can be automatically generated by running examples with the `record` feature:

```bash
cargo run -p core-animation --example emitter --features record
```

Or generate all recordings at once:

```bash
./crates/core-animation/tools/update-example-screenshots.sh
```

**Prerequisites:**
- ImageMagick (`brew install imagemagick`)
- ffmpeg (`brew install ffmpeg`)

---

## Examples

### `basic_layers`

Basic layer example with animated shapes. Demonstrates CALayer and CAShapeLayer with the builder APIs and GPU-accelerated animations using `.animate()`.

| GIF | Video |
|-----|-------|
| ![basic_layers](screenshots/basic_layers.gif) | [basic_layers.mp4](screenshots/basic_layers.mp4) |

```bash
cargo run -p core-animation --example basic_layers
```

---

### `breathing_circle`

Breathing circle - a soft pulsing orb with coordinated scale and opacity. Demonstrates multiple animations on one layer with `phase_offset` coordination.

| GIF | Video |
|-----|-------|
| ![breathing_circle](screenshots/breathing_circle.gif) | [breathing_circle.mp4](screenshots/breathing_circle.mp4) |

```bash
cargo run -p core-animation --example breathing_circle
```

---

### `emitter`

Particle emitter using `CAEmitterLayerBuilder` with the closure-based particle configuration.

| GIF | Video |
|-----|-------|
| ![emitter](screenshots/emitter.gif) | [emitter.mp4](screenshots/emitter.mp4) |

```bash
cargo run -p core-animation --example emitter
```

---

### `loading_spinner`

Loading spinner with smooth rotating indicator using linear easing. Demonstrates `TransformRotation` animation with `Easing::Linear` for constant rotational speed.

| GIF | Video |
|-----|-------|
| ![loading_spinner](screenshots/loading_spinner.gif) | [loading_spinner.mp4](screenshots/loading_spinner.mp4) |

```bash
cargo run -p core-animation --example loading_spinner
```

---

### `neon_glow`

Neon glow - retro neon sign effect with pulsing shadows. Demonstrates shadow property animations (`ShadowRadius`, `ShadowOpacity`) to create a glowing neon effect.

| GIF | Video |
|-----|-------|
| ![neon_glow](screenshots/neon_glow.gif) | [neon_glow.mp4](screenshots/neon_glow.mp4) |

```bash
cargo run -p core-animation --example neon_glow
```

---

### `particle_images`

Showcases all `ParticleImage` types side by side:
- `soft_glow` - Radial gradient (top-left)
- `circle` - Solid circle (top-right)
- `star` - Multi-pointed star (bottom-left)
- `spark` - Elongated streak (bottom-right)

| GIF | Video |
|-----|-------|
| ![particle_images](screenshots/particle_images.gif) | [particle_images.mp4](screenshots/particle_images.mp4) |

```bash
cargo run -p core-animation --example particle_images
```

---

### `point_burst`

Demonstrates `PointBurstBuilder` - a convenience API for the common pattern of particles bursting from a point in all directions.

| GIF | Video |
|-----|-------|
| ![point_burst](screenshots/point_burst.gif) | [point_burst.mp4](screenshots/point_burst.mp4) |

```bash
cargo run -p core-animation --example point_burst
```

---

### `ripple_rings`

Ripple rings - water ripple effect with concentric expanding rings. Demonstrates:
- `KeyPath::TransformScale` for ring expansion
- `KeyPath::Opacity` for rings fading as they expand
- `KeyPath::Custom("lineWidth")` for pulsing stroke width
- `phase_offset` for staggered timing across multiple rings
- `Easing::Out` for realistic ripple physics

| GIF | Video |
|-----|-------|
| ![ripple_rings](screenshots/ripple_rings.gif) | [ripple_rings.mp4](screenshots/ripple_rings.mp4) |

```bash
cargo run -p core-animation --example ripple_rings
```

---

### `staggered_dots`

Staggered dots - classic loading indicator with phase-offset animations. Demonstrates using `phase_offset` to create staggered timing across multiple elements.

| GIF | Video |
|-----|-------|
| ![staggered_dots](screenshots/staggered_dots.gif) | [staggered_dots.mp4](screenshots/staggered_dots.mp4) |

```bash
cargo run -p core-animation --example staggered_dots
```

---

### `window_builder`

Basic window creation with the `WindowBuilder` API.

| GIF | Video |
|-----|-------|
| ![window_builder](screenshots/window_builder.gif) | [window_builder.mp4](screenshots/window_builder.mp4) |

```bash
cargo run -p core-animation --example window_builder
```
